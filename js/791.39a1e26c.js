"use strict";(self["webpackChunkgoogle_calendar"]=self["webpackChunkgoogle_calendar"]||[]).push([[791],{4688:function(e,t,n){n.d(t,{Z:function(){return Y}});n(7658);var a=n(2900),l=n(3396),i=n(4870),r=n(7139),o=n(672),u=n(818),s=n(1339),c=n(7504),d=(0,l._)("i",{class:"bx-check"},null,-1),v=(0,l._)("span",null,"Mark completed",-1),_=[d,v],f=(0,l._)("i",{class:"bx-trash"},null,-1),p=(0,l._)("span",null,"Delete",-1),h=[f,p],m=(0,l.aZ)({__name:"ContextMenu",emits:["onCompleted","onDelete"],setup:function(e,t){var n=this,d=t.expose,v=t.emit,f=(0,i.iH)(null),p=(0,i.iH)({getBoundingClientRect:function(){return{width:0,height:0,top:0,right:0,bottom:0,left:0}}}),m=(0,i.iH)(null);(0,u.Z)(p,f);var C=function(){return(0,a.mG)(n,void 0,void 0,(function(){var e;return(0,a.Jh)(this,(function(t){switch(t.label){case 0:if(!m.value||!m.value._id)return[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,(0,c.eJ)(m.value._id,{completed:!0})];case 2:return t.sent(),v("onCompleted",m.value),y(),[3,4];case 3:return e=t.sent(),o.Am.error((null===e||void 0===e?void 0:e.message)||"Error"),[3,4];case 4:return[2]}}))}))},D=function(){return(0,a.mG)(n,void 0,void 0,(function(){var e;return(0,a.Jh)(this,(function(t){switch(t.label){case 0:if(!m.value||!m.value._id)return[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,(0,c.Bt)(m.value._id)];case 2:return t.sent(),v("onDelete",m.value),y(),[3,4];case 3:return e=t.sent(),o.Am.error((null===e||void 0===e?void 0:e.message)||"Error"),[3,4];case 4:return[2]}}))}))},y=function(){m.value=null},M=(0,s.Z)(f,y,(function(e){if(f.value){var t=e.target;return!f.value.contains(t)}}));return(0,l.YP)(m,(function(e){e||M()})),d({reference:p,eventDetail:m}),function(e,t){return(0,i.SU)(m)?((0,l.wg)(),(0,l.iD)("div",{key:0,ref_key:"popper",ref:f,class:(0,r.C_)(e.styles.container)},[(0,l._)("div",{class:(0,r.C_)(e.styles.dropdown)},[(0,i.SU)(m).completed?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:t[0]||(t[0]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,i.SU)(C)&&(0,i.SU)(C).apply(void 0,e)})},_)),(0,l._)("button",{onClick:t[1]||(t[1]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,i.SU)(D)&&(0,i.SU)(D).apply(void 0,e)})},h)],2)],2)):(0,l.kq)("",!0)}}}),C={container:"ContextMenu_container_x2N75",dropdown:"ContextMenu_dropdown_goTsK"},D=n(89);const y={};y["styles"]=C;const M=(0,D.Z)(m,[["__cssModules",y]]);var Y=M},2713:function(e,t,n){n.d(t,{Z:function(){return m}});var a=n(3396),l=n(4870),i=n(7139),r=n(9242),o=n(2024),u=["onClick","onContextmenu","data-type","data-event-id"],s=(0,a._)("i",{class:"bx-check-circle"},null,-1),c=(0,a._)("i",{class:"bxs-circle"},null,-1),d=(0,a._)("i",{class:"bx-check-circle"},null,-1),v=(0,a.aZ)({__name:"EventList",props:{events:null,type:null},emits:["onClick","onContextMenu"],setup:function(e,t){var n=t.emit,v=e,_=(0,l.BK)(v).events,f=(0,a.f3)("eventPopup"),p=function(e){(null===f||void 0===f?void 0:f.value)&&(f.value.isReadOnly||(f.value.isReadOnly=!0),f.value.eventDetail._id=e._id,f.value.eventDetail.time=e.time,f.value.eventDetail.date=e.date,f.value.eventDetail.title=e.title,f.value.eventDetail.description=e.description,f.value.isOpen||f.value.openPopup())};return function(t,v){return(0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,l.SU)(_),(function(v){return(0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)(t.styles.card),key:v._id,onClick:(0,r.iM)((function(e){return(0,l.SU)(p)(v)}),["stop"]),onContextmenu:(0,r.iM)((function(e){return(0,l.SU)(n)("onContextMenu",e,v)}),["prevent"]),"data-type":e.type,"data-event-id":v._id,tabindex:"-1"},["week"===e.type?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[s,(0,a._)("span",{class:(0,i.C_)([v.completed&&t.styles.strike])},(0,i.zw)(v.title),3)],64)):((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a._)("div",{class:(0,i.C_)(t.styles.time)},[c,(0,a._)("span",{class:(0,i.C_)([v.completed&&t.styles.strike])},(0,i.zw)((0,l.SU)(o.bp)[v.time].label),3)],2),(0,a._)("div",{class:(0,i.C_)(t.styles.title)},[d,(0,a._)("span",{class:(0,i.C_)([v.completed&&t.styles.strike])},(0,i.zw)(v.title),3)],2)],64))],42,u)})),128)}}}),_={card:"EventList_card_Ezil6",strike:"EventList_strike_OqqWM",time:"EventList_time_mQdhZ",title:"EventList_title_zhWhe"},f=n(89);const p={};p["styles"]=_;const h=(0,f.Z)(v,[["__cssModules",p]]);var m=h},5791:function(e,t,n){n.r(t),n.d(t,{default:function(){return Y}});n(7658);var a=n(2900),l=n(3396),i=n(7139),r=n(4870),o=n(9242),u=n(672),s=n(5743),c=n.n(s),d=n(2713),v=n(4688),_=n(7504),f=n(2024),p=["data-date","onClick"],h=["onClick"],m=(0,l.aZ)({__name:"MonthCalendar",props:{selectedDate:null},emits:["onChange"],setup:function(e,t){var n=this,s=t.emit,m=e,C=(0,r.BK)(m).selectedDate,D=(0,r.iH)({}),y=(0,r.iH)(null),M=(0,l.f3)("eventPopup"),Y=(0,r.iH)(null),g=(0,l.Fl)((function(){return(0,f.KD)(C.value)})),k=function(e){return(0,a.mG)(n,void 0,void 0,(function(){var t,n,l;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,(0,_.iG)((0,a.pi)((0,a.pi)({},e),{type:"month"}))];case 1:return t=i.sent().data.data,n=t.reduce((function(e,t){var n=t.date,a=t.events;return e[n]?e[n]=e[n].concat(a):e[n]=a,e}),{}),D.value=n,[3,3];case 2:return l=i.sent(),u.Am.error((null===l||void 0===l?void 0:l.message)||"Error"),[3,3];case 3:return[2]}}))}))},w=function(e){var t=D.value[e.date];t?t.push(e):D.value[e.date]=[e]},S=function(e){var t=e._id,n=e.date,a=D.value[n];if(a){var l=a.findIndex((function(e){return t===e._id}));-1!==l&&a.splice(l,1)}},U=function(e){var t=D.value[e.date];if(t){var n=t.findIndex((function(t){var n=t._id;return n===e._id}));-1!==n&&(t[n]=(0,a.pi)((0,a.pi)({},t[n]),e))}},x=function(e){(null===M||void 0===M?void 0:M.value)&&(M.value.eventDetail.date=e,M.value.isReadOnly&&(M.value.isReadOnly=!1),M.value.isOpen||M.value.openPopup())},b=function(e,t){var n=e.x,a=e.y;Y.value&&((null===M||void 0===M?void 0:M.value.isOpen)&&M.value.reset(),Y.value.reference={getBoundingClientRect:function(){return{width:0,height:0,top:a,right:n,bottom:a,left:n}}},Y.value.eventDetail=t)},O=function(e){var t=e._id,n=e.date,a=D.value[n];if(a){var l=a.findIndex((function(e){return t===e._id}));-1!==l&&(a[l].completed=!0)}};return(0,l.m0)((function(){var e=c()(g.value[0]).format("YYYY-MM-DD"),t=c()(g.value[g.value.length-1]).format("YYYY-MM-DD");k({startDate:e,endDate:t})})),(0,l.bv)((function(){(null===M||void 0===M?void 0:M.value)&&y.value&&(M.value.container=y.value,M.value.handleNewEvent=w,M.value.handleDeleteEvent=S,M.value.handleUpdateEvent=U)})),function(e,t){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",{ref_key:"calendarContainer",ref:y,class:(0,i.C_)(e.styles.container)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,r.SU)(g),(function(t,n){var a,u;return(0,l.wg)(),(0,l.iD)("div",{key:n,class:(0,i.C_)(e.styles.date_slot),"data-date":(0,r.SU)(c())(t).format("YYYY-MM-DD"),onClick:function(e){return(0,r.SU)(x)((0,r.SU)(c())(t).format("YYYY-MM-DD"))}},[(0,l._)("div",{class:(0,i.C_)(e.styles.header)},[n<=6?((0,l.wg)(),(0,l.iD)("span",{key:0,class:(0,i.C_)(e.styles.week)},(0,i.zw)((0,r.SU)(c())(t).format("ddd")),3)):(0,l.kq)("",!0),(0,l._)("span",{class:(0,i.C_)([e.styles.day,(0,r.SU)(c())(t).format("YYYY-MM-DD")===(0,r.SU)(c())().format("YYYY-MM-DD")?e.styles.highlight:(0,r.SU)(c())(t).format("YYYY-MM-DD")===(0,r.SU)(c())((0,r.SU)(C)).format("YYYY-MM-DD")&&e.styles.active,,]),onClick:(0,o.iM)((function(e){return(0,r.SU)(s)("onChange",t)}),["stop"])},(0,i.zw)(t.getDate()),11,h)],2),(0,l._)("div",{class:(0,i.C_)(e.styles.events)},[(null===(a=(0,r.SU)(D))||void 0===a?void 0:a[(0,r.SU)(c())(t).format("YYYY-MM-DD")])?((0,l.wg)(),(0,l.j4)(d.Z,{key:0,events:null===(u=(0,r.SU)(D))||void 0===u?void 0:u[(0,r.SU)(c())(t).format("YYYY-MM-DD")],type:"month",onOnContextMenu:(0,r.SU)(b)},null,8,["events","onOnContextMenu"])):(0,l.kq)("",!0)],2)],10,p)})),128))],2),(0,l.Wm)(v.Z,{ref_key:"contextMenu",ref:Y,onOnCompleted:(0,r.SU)(O),onOnDelete:(0,r.SU)(S)},null,8,["onOnCompleted","onOnDelete"])],64)}}}),C={container:"MonthCalendar_container_edhRS",date_slot:"MonthCalendar_date_slot_oMCXd",header:"MonthCalendar_header_MzKEi",week:"MonthCalendar_week_XyIsS",day:"MonthCalendar_day_FpOAg",highlight:"MonthCalendar_highlight_jdjTQ",active:"MonthCalendar_active_TB0CD",in_active:"MonthCalendar_in_active_Ti7fP",events:"MonthCalendar_events_XJDMS"},D=n(89);const y={};y["styles"]=C;const M=(0,D.Z)(m,[["__cssModules",y]]);var Y=M}}]);
//# sourceMappingURL=791.39a1e26c.js.map