"use strict";(self["webpackChunkgoogle_calendar"]=self["webpackChunkgoogle_calendar"]||[]).push([[499],{4688:function(e,t,n){n.d(t,{Z:function(){return w}});n(7658);var a=n(2900),l=n(3396),r=n(4870),i=n(7139),s=n(672),u=n(818),o=n(1339),c=n(7504),d=(0,l._)("i",{class:"bx-check"},null,-1),v=(0,l._)("span",null,"Mark completed",-1),_=[d,v],p=(0,l._)("i",{class:"bx-trash"},null,-1),f=(0,l._)("span",null,"Delete",-1),h=[p,f],y=(0,l.aZ)({__name:"ContextMenu",emits:["onCompleted","onDelete"],setup:function(e,t){var n=this,d=t.expose,v=t.emit,p=(0,r.iH)(null),f=(0,r.iH)({getBoundingClientRect:function(){return{width:0,height:0,top:0,right:0,bottom:0,left:0}}}),y=(0,r.iH)(null);(0,u.Z)(f,p);var g=function(){return(0,a.mG)(n,void 0,void 0,(function(){var e;return(0,a.Jh)(this,(function(t){switch(t.label){case 0:if(!y.value||!y.value._id)return[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,(0,c.eJ)(y.value._id,{completed:!0})];case 2:return t.sent(),v("onCompleted",y.value),C(),[3,4];case 3:return e=t.sent(),s.Am.error((null===e||void 0===e?void 0:e.message)||"Error"),[3,4];case 4:return[2]}}))}))},m=function(){return(0,a.mG)(n,void 0,void 0,(function(){var e;return(0,a.Jh)(this,(function(t){switch(t.label){case 0:if(!y.value||!y.value._id)return[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,(0,c.Bt)(y.value._id)];case 2:return t.sent(),v("onDelete",y.value),C(),[3,4];case 3:return e=t.sent(),s.Am.error((null===e||void 0===e?void 0:e.message)||"Error"),[3,4];case 4:return[2]}}))}))},C=function(){y.value=null},k=(0,o.Z)(p,C,(function(e){if(p.value){var t=e.target;return!p.value.contains(t)}}));return(0,l.YP)(y,(function(e){e||k()})),d({reference:f,eventDetail:y}),function(e,t){return(0,r.SU)(y)?((0,l.wg)(),(0,l.iD)("div",{key:0,ref_key:"popper",ref:p,class:(0,i.C_)(e.styles.container)},[(0,l._)("div",{class:(0,i.C_)(e.styles.dropdown)},[(0,r.SU)(y).completed?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:t[0]||(t[0]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,r.SU)(g)&&(0,r.SU)(g).apply(void 0,e)})},_)),(0,l._)("button",{onClick:t[1]||(t[1]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,r.SU)(m)&&(0,r.SU)(m).apply(void 0,e)})},h)],2)],2)):(0,l.kq)("",!0)}}}),g={container:"ContextMenu_container_x2N75",dropdown:"ContextMenu_dropdown_goTsK"},m=n(89);const C={};C["styles"]=g;const k=(0,m.Z)(y,[["__cssModules",C]]);var w=k},2713:function(e,t,n){n.d(t,{Z:function(){return y}});var a=n(3396),l=n(4870),r=n(7139),i=n(9242),s=n(2024),u=["onClick","onContextmenu","data-type","data-event-id"],o=(0,a._)("i",{class:"bx-check-circle"},null,-1),c=(0,a._)("i",{class:"bxs-circle"},null,-1),d=(0,a._)("i",{class:"bx-check-circle"},null,-1),v=(0,a.aZ)({__name:"EventList",props:{events:null,type:null},emits:["onClick","onContextMenu"],setup:function(e,t){var n=t.emit,v=e,_=(0,l.BK)(v).events,p=(0,a.f3)("eventPopup"),f=function(e){(null===p||void 0===p?void 0:p.value)&&(p.value.isReadOnly||(p.value.isReadOnly=!0),p.value.eventDetail._id=e._id,p.value.eventDetail.time=e.time,p.value.eventDetail.date=e.date,p.value.eventDetail.title=e.title,p.value.eventDetail.description=e.description,p.value.isOpen||p.value.openPopup())};return function(t,v){return(0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,l.SU)(_),(function(v){return(0,a.wg)(),(0,a.iD)("div",{class:(0,r.C_)(t.styles.card),key:v._id,onClick:(0,i.iM)((function(e){return(0,l.SU)(f)(v)}),["stop"]),onContextmenu:(0,i.iM)((function(e){return(0,l.SU)(n)("onContextMenu",e,v)}),["prevent"]),"data-type":e.type,"data-event-id":v._id,tabindex:"-1"},["week"===e.type?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[o,(0,a._)("span",{class:(0,r.C_)([v.completed&&t.styles.strike])},(0,r.zw)(v.title),3)],64)):((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a._)("div",{class:(0,r.C_)(t.styles.time)},[c,(0,a._)("span",{class:(0,r.C_)([v.completed&&t.styles.strike])},(0,r.zw)((0,l.SU)(s.bp)[v.time].label),3)],2),(0,a._)("div",{class:(0,r.C_)(t.styles.title)},[d,(0,a._)("span",{class:(0,r.C_)([v.completed&&t.styles.strike])},(0,r.zw)(v.title),3)],2)],64))],42,u)})),128)}}}),_={card:"EventList_card_Ezil6",strike:"EventList_strike_OqqWM",time:"EventList_time_mQdhZ",title:"EventList_title_zhWhe"},p=n(89);const f={};f["styles"]=_;const h=(0,p.Z)(v,[["__cssModules",f]]);var y=h},4499:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});n(2801),n(1295),n(7658);var a=n(2900),l=n(3396),r=n(7139),i=n(4870),s=n(672),u=n(5743),o=n.n(u),c=n(818),d=n(1339),v=n(1425),_=n(2713),p=n(4688),f=n(7504),h=(0,l.aZ)({__name:"YearCalendar",props:{selectedDate:null},emits:["onChange"],setup:function(e,t){var n=this,u=t.emit,h=e,y=(0,i.BK)(h).selectedDate,g=(0,i.iH)([]),m=(0,i.iH)(null),C=(0,i.iH)(!1),k=(0,i.iH)(null),w=(0,i.iH)(null),D=(0,i.iH)(null),S=(0,i.iH)(!0),b=(0,l.f3)("eventPopup");(0,c.Z)(k,w,{placement:"bottom",modifiers:[{name:"offset",options:{offset:[0,10]}}]});var U=(0,l.Fl)((function(){for(var e=[],t=structuredClone(y.value),n=0;n<12;n++)t.setMonth(n),e.push(structuredClone(t));return e})),x=function(e){return(0,a.mG)(n,void 0,void 0,(function(){var t,n,l;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:if(!m.value)return[2];a.label=1;case 1:return a.trys.push([1,3,4,5]),t=m.value.querySelector("[data-date='".concat(e,"']")),t&&(k.value=t),[4,(0,f.iG)({startDate:e,endDate:e,type:"year"})];case 2:return n=a.sent().data.data,g.value=n,[3,5];case 3:return l=a.sent(),s.Am.error((null===l||void 0===l?void 0:l.message)||"Error"),[3,5];case 4:return S.value=!1,[7];case 5:return[2]}}))}))},Y=function(e){var t=o()(e).format("YYYY-MM-DD"),n=C.value&&o()(y.value).format("YYYY-MM-DD")===t;u("onChange",e,n?"day":void 0),n||(g.value=[],S.value=!0,C.value||M(),x(t))},M=function(){C.value=!C.value},Z=function(e,t){var n=e.x,a=e.y;D.value&&((null===b||void 0===b?void 0:b.value.isOpen)&&b.value.reset(),D.value.reference={getBoundingClientRect:function(){return{width:0,height:0,top:a,right:n,bottom:a,left:n}}},D.value.eventDetail=t)},H=function(e){var t=e._id,n=g.value.findIndex((function(e){return t===e._id}));-1!==n&&g.value.splice(n,1)},O=function(e){var t=e._id,n=g.value.findIndex((function(e){return t===e._id}));-1!==n&&(g.value[n].completed=!0)};(0,l.YP)(C,(function(e){e||E()})),(0,l.bv)((function(){b&&m.value&&(b.value.container=m.value)}));var E=(0,d.Z)(w,M,(function(e){if(w.value){var t=e.target;return!w.value.contains(t)&&!t.hasAttribute("data-date")}}));return function(e,t){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",{ref_key:"calendarContainer",ref:m,class:(0,r.C_)(e.styles.container)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,i.SU)(U),(function(e){return(0,l.wg)(),(0,l.j4)(v.Z,{"calender-date":e,"selected-date":(0,i.SU)(y),"show-arrow":!1,"show-year":!1,onOnChange:(0,i.SU)(Y)},null,8,["calender-date","selected-date","onOnChange"])})),256)),(0,i.SU)(C)?((0,l.wg)(),(0,l.iD)("div",{key:0,ref_key:"popper",ref:w,class:(0,r.C_)(e.styles.popup)},[(0,l._)("div",{class:(0,r.C_)(e.styles.date)},[(0,l._)("span",null,(0,r.zw)((0,i.SU)(o())((0,i.SU)(y)).format("dddd")),1),(0,l._)("span",{class:(0,r.C_)(e.styles.highlight)},(0,r.zw)((0,i.SU)(y).getDate()),3),(0,l._)("i",{class:"bx-x",onClick:t[0]||(t[0]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,i.SU)(M)&&(0,i.SU)(M).apply(void 0,e)})})],2),(0,l._)("div",{class:(0,r.C_)(e.styles.events)},[(0,i.SU)(S)?((0,l.wg)(),(0,l.iD)("span",{key:0,class:(0,r.C_)(e.styles.msg)},"Loading...",2)):0===(0,i.SU)(g).length?((0,l.wg)(),(0,l.iD)("span",{key:1,class:(0,r.C_)(e.styles.msg)}," There are no events scheduled on this day. ",2)):((0,l.wg)(),(0,l.j4)(_.Z,{key:2,type:"year",events:(0,i.SU)(g),onOnContextMenu:(0,i.SU)(Z)},null,8,["events","onOnContextMenu"]))],2)],2)):(0,l.kq)("",!0)],2),(0,l.Wm)(p.Z,{ref_key:"contextMenu",ref:D,onOnCompleted:(0,i.SU)(O),onOnDelete:(0,i.SU)(H)},null,8,["onOnCompleted","onOnDelete"])],64)}}}),y={container:"YearCalendar_container_KTPyc",popup:"YearCalendar_popup_eigmR",date:"YearCalendar_date_XcLJL",highlight:"YearCalendar_highlight_MtFcX",events:"YearCalendar_events_gOtPj",msg:"YearCalendar_msg_JqKJ_",loader:"YearCalendar_loader_nywDb"},g=n(89);const m={};m["styles"]=y;const C=(0,g.Z)(h,[["__cssModules",m]]);var k=C}}]);
//# sourceMappingURL=499.0ff42df6.js.map