"use strict";(self["webpackChunkgoogle_calendar"]=self["webpackChunkgoogle_calendar"]||[]).push([[72],{4688:function(e,t,n){n.d(t,{Z:function(){return S}});n(7658);var l=n(2900),i=n(3396),a=n(4870),o=n(7139),u=n(672),r=n(818),s=n(1339),c=n(7504),v=(0,i._)("i",{class:"bx-check"},null,-1),d=(0,i._)("span",null,"Mark completed",-1),_=[v,d],f=(0,i._)("i",{class:"bx-trash"},null,-1),p=(0,i._)("span",null,"Delete",-1),m=[f,p],D=(0,i.aZ)({__name:"ContextMenu",emits:["onCompleted","onDelete"],setup:function(e,t){var n=this,v=t.expose,d=t.emit,f=(0,a.iH)(null),p=(0,a.iH)({getBoundingClientRect:function(){return{width:0,height:0,top:0,right:0,bottom:0,left:0}}}),D=(0,a.iH)(null);(0,r.Z)(p,f);var k=function(){return(0,l.mG)(n,void 0,void 0,(function(){var e;return(0,l.Jh)(this,(function(t){switch(t.label){case 0:if(!D.value||!D.value._id)return[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,(0,c.eJ)(D.value._id,{completed:!0})];case 2:return t.sent(),d("onCompleted",D.value),Y(),[3,4];case 3:return e=t.sent(),u.Am.error((null===e||void 0===e?void 0:e.message)||"Error"),[3,4];case 4:return[2]}}))}))},C=function(){return(0,l.mG)(n,void 0,void 0,(function(){var e;return(0,l.Jh)(this,(function(t){switch(t.label){case 0:if(!D.value||!D.value._id)return[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,(0,c.Bt)(D.value._id)];case 2:return t.sent(),d("onDelete",D.value),Y(),[3,4];case 3:return e=t.sent(),u.Am.error((null===e||void 0===e?void 0:e.message)||"Error"),[3,4];case 4:return[2]}}))}))},Y=function(){D.value=null},U=(0,s.Z)(f,Y,(function(e){if(f.value){var t=e.target;return!f.value.contains(t)}}));return(0,i.YP)(D,(function(e){e||U()})),v({reference:p,eventDetail:D}),function(e,t){return(0,a.SU)(D)?((0,i.wg)(),(0,i.iD)("div",{key:0,ref_key:"popper",ref:f,class:(0,o.C_)(e.styles.container)},[(0,i._)("div",{class:(0,o.C_)(e.styles.dropdown)},[(0,a.SU)(D).completed?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("button",{key:0,onClick:t[0]||(t[0]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.SU)(k)&&(0,a.SU)(k).apply(void 0,e)})},_)),(0,i._)("button",{onClick:t[1]||(t[1]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.SU)(C)&&(0,a.SU)(C).apply(void 0,e)})},m)],2)],2)):(0,i.kq)("",!0)}}}),k={container:"ContextMenu_container_x2N75",dropdown:"ContextMenu_dropdown_goTsK"},C=n(89);const Y={};Y["styles"]=k;const U=(0,C.Z)(D,[["__cssModules",Y]]);var S=U},2713:function(e,t,n){n.d(t,{Z:function(){return D}});var l=n(3396),i=n(4870),a=n(7139),o=n(9242),u=n(2024),r=["onClick","onContextmenu","data-type","data-event-id"],s=(0,l._)("i",{class:"bx-check-circle"},null,-1),c=(0,l._)("i",{class:"bxs-circle"},null,-1),v=(0,l._)("i",{class:"bx-check-circle"},null,-1),d=(0,l.aZ)({__name:"EventList",props:{events:null,type:null},emits:["onClick","onContextMenu"],setup:function(e,t){var n=t.emit,d=e,_=(0,i.BK)(d).events,f=(0,l.f3)("eventPopup"),p=function(e){(null===f||void 0===f?void 0:f.value)&&(f.value.isReadOnly||(f.value.isReadOnly=!0),f.value.eventDetail._id=e._id,f.value.eventDetail.time=e.time,f.value.eventDetail.date=e.date,f.value.eventDetail.title=e.title,f.value.eventDetail.description=e.description,f.value.isOpen||f.value.openPopup())};return function(t,d){return(0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,i.SU)(_),(function(d){return(0,l.wg)(),(0,l.iD)("div",{class:(0,a.C_)(t.styles.card),key:d._id,onClick:(0,o.iM)((function(e){return(0,i.SU)(p)(d)}),["stop"]),onContextmenu:(0,o.iM)((function(e){return(0,i.SU)(n)("onContextMenu",e,d)}),["prevent"]),"data-type":e.type,"data-event-id":d._id,tabindex:"-1"},["week"===e.type?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[s,(0,l._)("span",{class:(0,a.C_)([d.completed&&t.styles.strike])},(0,a.zw)(d.title),3)],64)):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l._)("div",{class:(0,a.C_)(t.styles.time)},[c,(0,l._)("span",{class:(0,a.C_)([d.completed&&t.styles.strike])},(0,a.zw)((0,i.SU)(u.bp)[d.time].label),3)],2),(0,l._)("div",{class:(0,a.C_)(t.styles.title)},[v,(0,l._)("span",{class:(0,a.C_)([d.completed&&t.styles.strike])},(0,a.zw)(d.title),3)],2)],64))],42,r)})),128)}}}),_={card:"EventList_card_Ezil6",strike:"EventList_strike_OqqWM",time:"EventList_time_mQdhZ",title:"EventList_title_zhWhe"},f=n(89);const p={};p["styles"]=_;const m=(0,f.Z)(d,[["__cssModules",p]]);var D=m},4072:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});n(2801),n(1295),n(7658),n(541);var l=n(2900),i=n(3396),a=n(9242),o=n(4870),u=n(7139),r=n(5743),s=n.n(r),c=n(672),v=n(2713),d=n(4688),_=n(7504),f=n(2024),p=["data-view"],m=(0,i._)("div",null,[(0,i._)("span",null,"GMT+05:30")],-1),D=["onClick"],k=(0,i._)("div",null,null,-1),C={key:0},Y=["data-date","data-time","onClick"],U=(0,i.aZ)({__name:"WeekCalendar",props:{selectedDate:null,view:null},emits:["onChange"],setup:function(e,t){var n=this,r=t.emit,U=e;(0,a.sj)((function(e){return{cebdabac:(0,o.SU)(E),f3e999a8:(0,o.SU)(H),"1c39df16":(0,o.SU)(z)}}));var S,h=(0,i.f3)("eventPopup"),w=(0,a.fb)("styles"),y=(0,o.BK)(U),g=y.view,M=y.selectedDate,b=(0,o.iH)(null),x=(0,o.iH)(),O=(0,o.iH)({}),W=(0,o.iH)(null),H=(0,i.Fl)((function(){return"week"===g.value?7:1})),E="65px",z="60px",Z=(0,i.Fl)((function(){var e=[],t=structuredClone(M.value);if(e.push(structuredClone(t)),"week"===g.value){for(var n=t.getDay();n<6;n++)t.setDate(t.getDate()+1),e.push(structuredClone(t));t=structuredClone(M.value);for(n=M.value.getDay();n>0;n--)t.setDate(t.getDate()-1),e.unshift(structuredClone(t))}return e})),I=function(e){return(0,l.mG)(n,void 0,void 0,(function(){var t,n,i;return(0,l.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,_.iG)((0,l.pi)((0,l.pi)({},e),{type:"week"}))];case 1:return t=a.sent().data.data,n=t.reduce((function(e,t){var n,l,i=t.date,a=t.events,o=t.time;return e[i]?e[i][o]?e[i][o]=null===(l=e[i][o])||void 0===l?void 0:l.concat(a):e[i][o]=a:e[i]=(n={},n[o]=a,n),e}),{}),O.value=n,[3,3];case 2:return i=a.sent(),c.Am.error((null===i||void 0===i?void 0:i.message)||"Error"),[3,3];case 3:return[2]}}))}))},q=function(e){if(O.value[e.date]){var t=O.value[e.date][e.time];t?t.push(e):O.value[e.date][e.time]=[e]}else O.value[e.date]||(O.value[e.date]={}),O.value[e.date][e.time]=[e]},R=function(e){var t=O.value[e.date][e.time];if(t){var n=t.findIndex((function(t){var n=t._id;return n===e._id}));-1!==n&&(t[n]=(0,l.pi)((0,l.pi)({},t[n]),e))}},P=function(e){var t=e._id,n=e.time,l=e.date,i=O.value[l][n];if(i){var a=i.findIndex((function(e){return t===e._id}));-1!==a&&i.splice(a,1)}},B=function(){if(x.value){var e=new Date,t=parseInt(z.replace("px","")),n=e.getHours()*t+e.getMinutes();x.value.style.top="".concat(n,"px")}},K=function(){var e=document.querySelector(".".concat(w.time_slot_container));if(e){var t=document.querySelector(".".concat(w.highlight));t&&x.value&&(x.value.style.left="week"===g.value?"".concat(t.getBoundingClientRect().left-e.getBoundingClientRect().left,"px"):E,x.value.style.width="week"===g.value?"".concat(t.clientWidth,"px"):"calc(100% - ".concat(E,")"))}},L=function(){K(),B()},N=function(e){"week"===g.value&&r("onChange",e,"day")},G=function(e,t){var n=e.x,l=e.y;W.value&&((null===h||void 0===h?void 0:h.value.isOpen)&&h.value.reset(),W.value.reference={getBoundingClientRect:function(){return{width:0,height:0,top:l,right:n,bottom:l,left:n}}},W.value.eventDetail=t)},J=function(e){var t;if((null===h||void 0===h?void 0:h.value)&&e){var n=null===(t=h.value.container)||void 0===t?void 0:t.querySelector("[data-date='".concat(s()(h.value.eventDetail.date).format("YYYY-MM-DD"),"'][data-time='").concat(e,"']"));n&&(h.value.reference=n,null===n||void 0===n||n.scrollIntoView({behavior:"smooth",block:"center"}))}},A=function(e){var t=e._id,n=e.time,l=e.date,i=O.value[l][n];if(i){var a=i.findIndex((function(e){return t===e._id}));-1!==a&&(i[a].completed=!0)}},F=function(e,t){(null===h||void 0===h?void 0:h.value)&&(h.value.eventDetail.date=e,h.value.eventDetail.time=t,h.value.isReadOnly&&(h.value.isReadOnly=!1),h.value.isOpen||h.value.openPopup())};return(0,i.m0)((function(){var e=s()(Z.value[0]).format("YYYY-MM-DD"),t=s()(Z.value[Z.value.length-1]).format("YYYY-MM-DD");I({startDate:e,endDate:t})})),(0,i.m0)((function(){(null===h||void 0===h?void 0:h.value)&&(h.value.placement="day"===g.value?"bottom":"left")})),(0,i.YP)([g,M],L,{flush:"post"}),(0,i.YP)((function(){var e,t;return null===(t=null===(e=null===h||void 0===h?void 0:h.value)||void 0===e?void 0:e.eventDetail)||void 0===t?void 0:t.time}),J,{flush:"post"}),(0,i.bv)((function(){window.addEventListener("resize",L),L(),S=setInterval(B,6e4),h&&b.value&&(h.value.container=b.value,h.value.handleNewEvent=q,h.value.handleDeleteEvent=P,h.value.handleUpdateEvent=R)})),(0,i.Ah)((function(){window.removeEventListener("resize",L),clearInterval(S)})),function(e,t){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",{class:(0,u.C_)((0,o.SU)(w).container),"data-view":(0,o.SU)(g)},[(0,i._)("div",{class:(0,u.C_)((0,o.SU)(w).week_section)},[m,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,o.SU)(Z),(function(e,t){return(0,i.wg)(),(0,i.iD)("div",{key:t,class:(0,u.C_)([(0,o.SU)(w).week,(0,o.SU)(s())().format("YYYY-MM-DD")===(0,o.SU)(s())(e).format("YYYY-MM-DD")?(0,o.SU)(w).highlight:(0,o.SU)(s())(e).format("YYYY-MM-DD")===(0,o.SU)(s())((0,o.SU)(M)).format("YYYY-MM-DD")&&(0,o.SU)(w).active]),onClick:function(t){return(0,o.SU)(N)(e)}},[(0,i._)("span",null,(0,u.zw)((0,o.SU)(s())(e).format("ddd")),1),(0,i._)("span",null,(0,u.zw)(e.getDate()),1)],10,D)})),128)),k],2),(0,i._)("div",{class:(0,u.C_)((0,o.SU)(w).divider)},null,2),(0,i._)("div",{ref_key:"calendarContainer",ref:b,class:(0,u.C_)((0,o.SU)(w).time_slot_section)},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,o.SU)(f.bp),(function(e,t){var n=e.label,l=e.time;return(0,i.wg)(),(0,i.iD)("div",{class:(0,u.C_)((0,o.SU)(w).time_slot_container),key:t},[(0,i._)("div",{class:(0,u.C_)((0,o.SU)(w).time)},[0!==t?((0,i.wg)(),(0,i.iD)("span",C,(0,u.zw)(n),1)):(0,i.kq)("",!0)],2),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,o.SU)(H),(function(e){var n,a,r,c,d,_,f;return(0,i.wg)(),(0,i.iD)("div",{class:(0,u.C_)((0,o.SU)(w).date_slot),key:e,"data-date":(0,o.SU)(s())((0,o.SU)(Z)[e-1]).format("YYYY-MM-DD"),"data-time":t,onClick:function(n){return(0,o.SU)(F)((0,o.SU)(s())((0,o.SU)(Z)[e-1]).format("YYYY-MM-DD"),t)}},[(null===(r=(0,o.SU)(O)[null===(a=(0,o.SU)(s())(null===(n=(0,o.SU)(Z))||void 0===n?void 0:n[e-1]))||void 0===a?void 0:a.format("YYYY-MM-DD")])||void 0===r?void 0:r[t])?((0,i.wg)(),(0,i.j4)(v.Z,{key:0,type:"week",events:(0,o.SU)(O)[(0,o.SU)(s())((0,o.SU)(Z)[e-1]).format("YYYY-MM-DD")][t],onOnContextMenu:(0,o.SU)(G)},null,8,["events","onOnContextMenu"])):(0,i.kq)("",!0),(null===(c=(0,o.SU)(h))||void 0===c?void 0:c.isOpen)&&!(0,o.SU)(h).isReadOnly&&(null===(d=(0,o.SU)(h))||void 0===d?void 0:d.eventDetail.date)===(0,o.SU)(s())((0,o.SU)(Z)[e-1]).format("YYYY-MM-DD")&&(null===(_=(0,o.SU)(h))||void 0===_?void 0:_.eventDetail.time)==t?((0,i.wg)(),(0,i.iD)("div",{key:1,class:(0,u.C_)((0,o.SU)(w).event_card)},[(0,i._)("span",null,(0,u.zw)((null===(f=(0,o.SU)(h))||void 0===f?void 0:f.eventDetail.title)||"(No Title)"),1),(0,i._)("span",null,(0,u.zw)(l),1)],2)):(0,i.kq)("",!0)],10,Y)})),128))],2)})),128)),(0,i.wy)((0,i._)("div",{ref_key:"indicator",ref:x,class:(0,u.C_)((0,o.SU)(w).indicator)},null,2),[[a.F8,(0,o.SU)(Z).some((function(e){return(0,o.SU)(s())(e).format("YYYY-MM-DD")===(0,o.SU)(s())().format("YYYY-MM-DD")}))]])],2)],10,p),(0,i.Wm)(d.Z,{ref_key:"contextMenu",ref:W,onOnCompleted:(0,o.SU)(A),onOnDelete:(0,o.SU)(P)},null,8,["onOnCompleted","onOnDelete"])],64)}}}),S={container:"WeekCalendar_container_JnaIT",week_section:"WeekCalendar_week_section_Xy2lu",week:"WeekCalendar_week_UXGIo",active:"WeekCalendar_active_zSol8",highlight:"WeekCalendar_highlight_PN1Ud",divider:"WeekCalendar_divider_SNevO",time_slot_section:"WeekCalendar_time_slot_section_dFN27",time_slot_container:"WeekCalendar_time_slot_container_OYUWU",time:"WeekCalendar_time_Vp6Yl",date_slot:"WeekCalendar_date_slot_OkNwI",event_card:"WeekCalendar_event_card_C7oUy",indicator:"WeekCalendar_indicator_MdIyf"},h=n(89);const w={};w["styles"]=S;const y=(0,h.Z)(U,[["__cssModules",w]]);var g=y}}]);
//# sourceMappingURL=72.bf26f171.js.map